<Window
    x:Name="Window"
    x:Class="MultitoolWinUI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    mc:Ignorable="d">
    <Grid>
        <NavigationView Loaded="NavigationView_Loaded"
                        IsPaneOpen="False"
                        ItemInvoked="NavigationView_ItemInvoked" 
                        BackRequested="NavigationView_BackRequested"
                        IsBackEnabled="{Binding ElementName=ContentFrame, Path=CanGoBack}">
            <NavigationView.MenuItems>
                <NavigationViewItem Tag="home" 
                                    Icon="Home" 
                                    Content="Home">
                </NavigationViewItem>

                <NavigationViewItemHeader Content="Explorer"/>
                <NavigationViewItem Tag="explorer" Content="File view">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xE838;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Disks overview" Tag="explorerhome">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xEDA2;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>

                <NavigationViewItemHeader Content="Utilities"/>

                <NavigationViewItem Tag="devices" 
                                    Content="Windows devices">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xE950;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>

                <NavigationViewItem Tag="power" Content="Power">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xE7E8;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>

                <NavigationViewItem Tag="controlpanels"
                                     Content="Control panels">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xE770;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>

                <NavigationViewItem Tag="hashgenerator"
                                     Content="Hash generator">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xEA18;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            
            <ScrollViewer>
                <Frame x:Name="ContentFrame"></Frame>
            </ScrollViewer>
        </NavigationView>

        <Popup x:Name="ExceptionPopup"
               IsLightDismissEnabled="True"
               HorizontalAlignment="Stretch">

            <Grid ColumnSpacing="5"
                  Background="{ThemeResource DevOrange}"
                  MinHeight="40"
                  HorizontalAlignment="Stretch">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" 
                          Glyph="&#xe783;"
                          Grid.Column="0"
                          VerticalAlignment="Center"/>
                <TextBlock x:Name="ExceptionTextBlock"
                           Foreground="White"
                           FontSize="15"
                           MaxLines="5"
                           TextWrapping="Wrap"
                           VerticalAlignment="Center"
                           Grid.Column="1"/>
            </Grid>

        </Popup>
    </Grid>
</Window>
